<ng-container *ngIf="!showChart">
  <div class="row col-6 input-group mb-3">
    <div class="custom-file">
      <input type="file" #fileInput accept=".xlsx, .xls, .csv" (change)="onFileSelected($event)"
        class="custom-file-input" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04">
      <label class="custom-file-label" for="inputGroupFile04">Please selet your dataset</label>
    </div>
    <div class="input-group-append">
      <button class="btn btn-primary" type="button" id="inputGroupFileAddon04" (click)="fileInput.click()">Load
        Dataset</button>
    </div>
  </div>
  <div class="row col-12">
    <ngx-menu-list *ngIf="excelData" [excelData]="excelData" (submiEvent)="onSumbitEvent($event)"
      style="width: 100%;"></ngx-menu-list>
  </div>
</ng-container>

<ng-container *ngIf="true">
  <div class="row">
    <div class="col-md-3 col-12" *ngFor="let item of labelData">
      <nb-card size="tiny" class="solar-card">
        <nb-card-header>{{item?.itemName}}</nb-card-header>
        <nb-card-body>
          <ngx-echarts-percentage class="echart" [value]="item?.itemValue?.value"></ngx-echarts-percentage>
          <div class="info">
            <div class="dish-text">{{item?.itemValue?.name}}</div>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
  </div>
  <!-- <div class="row">
    <ng-container *ngFor="let item of chartDataArray">
      <div class="col-lg-4 col-12" *ngIf="item?.charttype == 'pie'">
        <nb-card>
          <nb-card-header>Pie</nb-card-header>
          <nb-card-body>
            <ngx-echarts-pie *ngIf="item?.chartsData?.seriesName" [chartsData]="item?.chartsData"></ngx-echarts-pie>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-lg-4 col-12" *ngIf="item?.charttype == 'bar'">
        <nb-card>
          <nb-card-header>Bar</nb-card-header>
          <nb-card-body>
            <ngx-echarts-bar *ngIf="item?.barChartData?.seriesName"
              [barChartData]="item?.barChartData"></ngx-echarts-bar>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-lg-4 col-12" *ngIf="item?.charttype == 'line'">
        <nb-card>
          <nb-card-header>Line</nb-card-header>
          <nb-card-body>
            <ngx-echarts-line></ngx-echarts-line>
          </nb-card-body>
        </nb-card>
      </div>
    </ng-container>
  </div> -->

  <div *ngIf="false" class="row">
    <ng-container *ngFor="let item of chartDataArray">
      <div class="col-lg-3 col-12" *ngIf="item?.charttype == 'pie'">
        <nb-card>
          <nb-card-header>Pie</nb-card-header>
          <nb-card-body>
            <ngx-echarts-pie [chartsData]="item?.chartsData"></ngx-echarts-pie>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-lg-3 col-12" *ngIf="item?.charttype == 'bar'">
        <nb-card>
          <nb-card-header>Bar</nb-card-header>
          <nb-card-body>
            <ngx-echarts-bar *ngIf="item?.barChartData?.seriesName"
              [barChartData]="item?.barChartData"></ngx-echarts-bar>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-lg-3 col-12" *ngIf="item?.charttype == 'line'">
        <nb-card>
          <nb-card-header>Line</nb-card-header>
          <nb-card-body>
            <ngx-echarts-line></ngx-echarts-line>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-lg-9 col-12">
        <div class="row">
          <div class="col-lg-6" *ngIf="item?.charttype == 'bar'">
            <nb-card>
              <nb-card-header>Bar</nb-card-header>
              <nb-card-body>
                <ngx-echarts-bar *ngIf="item?.barChartData?.seriesName"
                  [barChartData]="item?.barChartData"></ngx-echarts-bar>
              </nb-card-body>
            </nb-card>
          </div>
          <div class="col-lg-6" *ngIf="item?.charttype == 'line'">
            <nb-card>
              <nb-card-header>Line</nb-card-header>
              <nb-card-body>
                <ngx-echarts-line></ngx-echarts-line>
              </nb-card-body>
            </nb-card>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <div class="container">
    <div class="row">
      <ng-container *ngFor="let group of groupedChartDataArray;let i = index">
        <!-- First Column (col-md-3) -->
        <div class="col-md-3">
          <nb-card>
            <nb-card-header>{{group[0]?.charttype}}</nb-card-header>
            <nb-card-body>
              <ngx-echarts-bar *ngIf="group[0]?.charttype == 'bar' && group[0]?.barChartData?.seriesName"
                [barChartData]="group[0]?.barChartData"></ngx-echarts-bar>
              <ngx-echarts-line *ngIf="group[0]?.charttype == 'line'"></ngx-echarts-line>
              <ngx-echarts-pie *ngIf="group[0]?.charttype == 'pie'"
                [chartsData]="group[0]?.chartsData"></ngx-echarts-pie>
            </nb-card-body>
          </nb-card>
        </div>

        <!-- Second Column (col-md-6) -->
        <div class="col-lg-9 col-12">
          <div class="row">
            <div class="col-md-6">
              <nb-card>
                <nb-card-header>{{group[1]?.charttype}}</nb-card-header>
                <nb-card-body>
                  <ngx-echarts-bar *ngIf="group[1]?.charttype == 'bar' && group[1]?.barChartData?.seriesName"
                    [barChartData]="group[1]?.barChartData"></ngx-echarts-bar>
                  <ngx-echarts-line *ngIf="group[1]?.charttype == 'line'"></ngx-echarts-line>
                  <ngx-echarts-pie *ngIf="group[1]?.charttype == 'pie'"
                    [chartsData]="group[1]?.chartsData"></ngx-echarts-pie>
                </nb-card-body>
              </nb-card>
            </div>

            <!-- Third Column (col-md-6) -->
            <div class="col-md-6">
              <nb-card>
                <nb-card-header>{{group[2]?.charttype}}</nb-card-header>
                <nb-card-body>
                  <ngx-echarts-bar *ngIf="group[2]?.charttype == 'bar' && group[2]?.barChartData?.seriesName"
                    [barChartData]="group[2]?.barChartData"></ngx-echarts-bar>
                  <ngx-echarts-line *ngIf="group[2]?.charttype == 'line'"></ngx-echarts-line>
                  <ngx-echarts-pie *ngIf="group[2]?.charttype == 'pie'"
                    [chartsData]="group[2]?.chartsData"></ngx-echarts-pie>
                </nb-card-body>
              </nb-card>
            </div>
          </div>
        </div>
      </ng-container>

    </div>
  </div>

</ng-container>